# üîß –í—Ç–æ—Ä–æ–π —É—Ä–æ–∫: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∑–∞–∫–∞–∑–æ–≤ (Order)

## ‚úÖ –ü–ª–∞–Ω —É—Ä–æ–∫–∞:
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ `Order`**
- ‚öôÔ∏è **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è `Order` –≤ –∞–¥–º–∏–Ω–∫–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤**
- üìù **–ù–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –∑–∞–∫–∞–∑–æ–≤**

---

## ‚öñÔ∏è 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ Order

### üìö –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–¥–µ–ª—å –≤ Django?
–ú–æ–¥–µ–ª—å –≤ Django ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–¥–µ–ª–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

### üîß –°–æ–∑–¥–∞–¥–∏–º –º–æ–¥–µ–ª—å `Order`
–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª `shop/models.py` –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```python
class Order(models.Model):
    product = models.ForeignKey(Product, on_delete=models.SET_NULL, null=True)
    # ForeignKey —Å–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–æ–≤–∞—Ä–æ–º
    # on_delete=models.SET_NULL –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∑–∞–∫–∞–∑, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä —É–¥–∞–ª—ë–Ω
    
    delivery_address = models.CharField(max_length=255)
    # CharField –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏, max_length=255 –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏
    
    created_at = models.DateTimeField(auto_now_add=True)
    # DateTimeField –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
```

### üõ†Ô∏è –†–∞–∑–±–∏—Ä–∞–µ–º –∫–æ–¥:
1. **`ForeignKey(Product, on_delete=models.SET_NULL, null=True)`** ‚Äî —Å–≤—è–∑—å —Å –º–æ–¥–µ–ª—å—é `Product`. –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä —É–¥–∞–ª–∏—Ç—Å—è, –ø–æ–ª–µ —Å—Ç–∞–Ω–µ—Ç `NULL`, –Ω–æ –∑–∞–∫–∞–∑ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è.
2. **`CharField(max_length=255)`** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞.
3. **`DateTimeField(auto_now_add=True)`** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞.

---

## üë®‚Äçüíº 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

### üîß –î–æ–±–∞–≤–ª—è–µ–º `Order` –≤ `admin.py`
–ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–∫–∞–∑–∞–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É, –¥–æ–±–∞–≤–∏–º –º–æ–¥–µ–ª—å –≤ `shop/admin.py`:

```python
from django.contrib import admin
from .models import Order

@admin.register(Order)
class OrderAdmin(admin.ModelAdmin):
    list_display = ('id', 'product')
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–∏–µ –ø–æ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–µ –∑–∞–∫–∞–∑–æ–≤
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º
1. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä: `python manage.py runserver`
2. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∞–¥–º–∏–Ω–∫—É: [http://127.0.0.1:8000/admin](http://127.0.0.1:8000/admin)
3. –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

## üíª 3. –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ —à–∞–±–ª–æ–Ω

### üîß –û–±–Ω–æ–≤–ª—è–µ–º `views.py`
–î–æ–±–∞–≤–ª—è–µ–º –≤ `shop/views.py` —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤:

```python
from django.shortcuts import render
from .models import Order

def orders(request):
    orders = Order.objects.all()
    return render(request, 'shop/orders.html', {'orders': orders})
```

### üõ†Ô∏è –†–∞–∑–±–∏—Ä–∞–µ–º –∫–æ–¥:
1. **`Order.objects.all()`** ‚Äî –ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞–∫–∞–∑—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2. **–ü–µ—Ä–µ–¥–∞—ë–º –∏—Ö –≤ —à–∞–±–ª–æ–Ω** `orders.html`, —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### üåê –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º `urls.py`
–î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –≤ `shop/urls.py`:

```python
from django.urls import path
from .views import order_list

urlpatterns = [
    path('orders/', orders, name='orders'),
]
```

–¢–µ–ø–µ—Ä—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: [http://127.0.0.1:8000/orders](http://127.0.0.1:8000/orders)

---

## üé® 4. –°–æ–∑–¥–∞—ë–º —à–∞–±–ª–æ–Ω `orders.html`

### üîß –ö–æ–¥ —à–∞–±–ª–æ–Ω–∞
–û—Ç–∫—Ä—ã–≤–∞–µ–º `shop/templates/shop/orders.html` –∏ –¥–æ–±–∞–≤–ª—è–µ–º:

```html
<h2 class="mb-4">Order History</h2>
<div class="row justify-content-center">
    {% for order in orders %}
    <div class="col-12 col-md-6 col-lg-4 mb-4 d-flex justify-content-center">
        <div class="card h-100 d-flex flex-column justify-content-between" style="max-width: 340px; box-shadow: 0 0 5px #00000022;">
            <div class="card-body text-center">
                <h5 class="card-title text-wrap">Order #{{ order.id }}</h5>
                <p class="card-text fs-6"><strong>Product:</strong> {{ order.product.name }}</p>
                <p class="card-text fs-6"><strong>Delivery Address:</strong> {{ order.delivery_address|truncatewords:6 }}</p>
                <p class="card-text fs-6"><strong>Order Date:</strong> {{ order.created_at }}</p>
            </div>
            <div class="card-footer bg-transparent border-0 d-flex justify-content-center">
                <a href="#" class="btn btn-primary w-100">View Details</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
```

### üõ†Ô∏è –†–∞–∑–±–∏—Ä–∞–µ–º –∫–æ–¥:
- **`{% for order in orders %}`** ‚Äî –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –∑–∞–∫–∞–∑–∞–º.
- **–í—ã–≤–æ–¥–∏–º –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞, —Ç–æ–≤–∞—Ä, –∞–¥—Ä–µ—Å –∏ –¥–∞—Ç—É —Å–æ–∑–¥–∞–Ω–∏—è.**
- **–°–æ–∑–¥–∞—ë–º Bootstrap-–∫–∞—Ä—Ç–æ—á–∫–∏** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|--------|---------|
| `ForeignKey` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `Product`, –Ω–æ –æ—à–∏–±–∫–∞ `RelatedObjectDoesNotExist` | –í –∑–∞–∫–∞–∑–µ –Ω–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–∞ | –î–æ–±–∞–≤—å—Ç–µ `null=True` –≤ `ForeignKey` –∏–ª–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ë–î –µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã |
| `OperationalError: no such table: shop_order` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ | –í—ã–ø–æ–ª–Ω–∏—Ç–µ `python manage.py makemigrations` –∏ `python manage.py migrate` |
| `TemplateDoesNotExist: shop/orders.html` | –®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `orders.html` –ª–µ–∂–∏—Ç –≤ `shop/templates/shop/` |

---

## üéØ –ò—Ç–æ–≥
–°–µ–≥–æ–¥–Ω—è –º—ã:
‚úÖ –°–æ–∑–¥–∞–ª–∏ –º–æ–¥–µ–ª—å `Order`
‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –µ—ë –≤ –∞–¥–º–∏–Ω–∫–µ
‚úÖ –í—ã–≤–µ–ª–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
‚úÖ –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –∫—Ä–∞—Å–∏–≤—ã–π —à–∞–±–ª–æ–Ω

–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞! üöÄ
